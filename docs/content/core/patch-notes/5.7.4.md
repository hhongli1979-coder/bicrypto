# Core v5.7.4

**Release Date:** December 02, 2025
**Tags:** BINARY TRADING, UI/UX, BUG FIXES, P2P

## Fixed

### Binary Trading

- **Mobile Layout Error**: Fixed `handleTradingModeChange is not defined` error on mobile binary trading page
  - The prop was defined in the interface but not destructured in the component
  - Mobile users can now access the binary trading page without errors

- **Duplicate Demo Badge**: Removed redundant "Demo" badge in mobile header
  - Previously showed two "Demo" indicators (blue badge and orange DEMO label)
  - Now only shows the clickable orange DEMO/REAL badge next to balance
  - Cleaner, less cluttered mobile navigation

- **Theme Toggle Not Persisting**: Fixed theme toggle reverting to dark mode on mobile
  - Changed from using `theme` to `resolvedTheme` from next-themes
  - `resolvedTheme` correctly reflects the actual current theme state
  - Theme toggle now works correctly and persists user preference

## Improved

### Binary Trading Mobile UI

- **Positions Panel Theme Consistency**: Updated colors to use zinc palette instead of slate
  - Changed background from `bg-[#131722]` to `bg-zinc-950` for consistency with site theme
  - Improved contrast and visibility in dark mode

- **Active/History Tabs**: Enhanced tab styling for better visibility in dark mode
  - Tab container uses `bg-zinc-900` background (darker, more visible)
  - Active tab has orange bottom border indicator (`border-orange-500`)
  - Added subtle background highlight on active tab (`bg-zinc-800/50`)
  - Improved hover states with proper color transitions

- **Filter Tabs (All/Won/Lost)**: Redesigned filter buttons with pill-style tabs
  - Container has rounded `bg-zinc-900` background in dark mode
  - Active "All" tab has `bg-zinc-800` with white text
  - Active "Won" tab has green tinted background (`bg-green-500/20`)
  - Active "Lost" tab has red tinted background (`bg-red-500/20`)
  - Better visual separation and identification of active filter

- **Empty State Display**: Added proper empty state for active positions
  - Shows centered clock icon with "No Active Positions" message
  - Uses consistent zinc colors (`bg-zinc-950`, `text-zinc-500`)
  - Previously returned null, now provides visual feedback to users

## Migration Guide

### Payment Intent Removal

If you are upgrading from a previous version, you need to manually remove the following files and folders:

#### 1. Type Definitions

Delete the following files:

- `backend/types/models/paymentIntent.d.ts`
- `backend/types/models/paymentIntentProduct.d.ts`

#### 2. Model Files

Delete the following folder and its contents:

- `backend/models/ext/payment/` (entire folder)
  - `paymentIntent.ts`
  - `paymentIntentProduct.ts`

#### 3. Admin API Endpoints

Delete the following folder and its contents:

- `backend/src/api/(ext)/admin/payment/intent/` (entire folder)
  - `[id]/index.del.ts`
  - `[id]/index.get.ts`
  - `[id]/index.put.ts`
  - `index.del.ts`
  - `index.get.ts`
  - `index.post.ts`
  - `utils.ts`

#### 4. User API Endpoints

Delete the following folder and its contents:

- `backend/src/api/(ext)/payment/intent/` (entire folder)
  - `[id]/index.del.ts`
  - `[id]/index.get.ts`
  - `confirm.post.ts`
  - `index.post.ts`
  - `status.post.ts`

#### 5. Frontend Components

Delete the following folders entirely:

- `frontend/components/nft/` (entire folder)
- `frontend/components/p2p/` (entire folder)
- `frontend/components/faq/` (entire folder)
